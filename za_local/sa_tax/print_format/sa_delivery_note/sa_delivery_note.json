{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-10-30 09:28:23.843484",
 "custom_format": 1,
 "disabled": 0,
 "doc_type": "Delivery Note",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "font_size": 14,
 "html": "{%- set company_doc = frappe.get_doc(\"Company\", doc.company) -%}\n{%- set entity_doc = frappe.get_doc(\"Customer\", doc.customer) if doc.customer else None -%}\n\n<style>\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\n    \n    * {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n    }\n    \n    body {\n        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n    }\n    \n    .modern-doc {\n        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n        font-size: 9pt;\n        line-height: 1.3;\n        color: #1a1a1a;\n        padding: 15px 20px;\n        background: white;\n    }\n    \n    .doc-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n        padding-bottom: 12px;\n        border-bottom: 3px solid #000;\n        margin-bottom: 18px;\n    }\n    \n    .company-info {\n        flex: 1;\n    }\n    \n    .company-logo {\n        max-width: 140px;\n        max-height: 50px;\n        margin-bottom: 8px;\n    }\n    \n    .company-name {\n        font-size: 15pt;\n        font-weight: 700;\n        color: #000;\n        margin-bottom: 4px;\n        letter-spacing: -0.3px;\n    }\n    \n    .company-details {\n        font-size: 8pt;\n        color: #4a5568;\n        line-height: 1.3;\n    }\n    \n    .vat-box {\n        text-align: right;\n        padding: 10px 15px;\n        background: #f8f9fa;\n        border-left: 3px solid #000;\n    }\n    \n    .vat-label {\n        font-size: 7pt;\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n        color: #6b7280;\n        font-weight: 600;\n        margin-bottom: 2px;\n    }\n    \n    .vat-number {\n        font-size: 12pt;\n        font-weight: 700;\n        color: #000;\n    }\n    \n    .doc-title {\n        text-align: center;\n        margin: 15px 0 15px;\n    }\n    \n    .doc-title h1 {\n        font-size: 22pt;\n        font-weight: 300;\n        color: #000;\n        letter-spacing: 3px;\n        text-transform: uppercase;\n    }\n    \n    .doc-meta {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 15px;\n        margin-bottom: 15px;\n    }\n    \n    .meta-section {\n        padding: 12px;\n        background: #f8f9fa;\n    }\n    \n    .meta-label {\n        font-size: 7pt;\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n        color: #6b7280;\n        font-weight: 600;\n        margin-bottom: 6px;\n    }\n    \n    .meta-content {\n        font-size: 9pt;\n        color: #1f2937;\n        line-height: 1.4;\n    }\n    \n    .meta-content strong {\n        color: #000;\n        font-weight: 600;\n    }\n    \n    .info-row {\n        display: flex;\n        justify-content: space-between;\n        padding: 3px 0;\n        border-bottom: 1px solid #e5e7eb;\n    }\n    \n    .info-row:last-child {\n        border-bottom: none;\n    }\n    \n    .info-label {\n        color: #6b7280;\n        font-weight: 500;\n        font-size: 8pt;\n    }\n    \n    .info-value {\n        color: #000;\n        font-weight: 600;\n        font-size: 9pt;\n    }\n    \n    .items-table {\n        width: 100%;\n        border-collapse: collapse;\n        margin: 12px 0;\n        font-size: 8.5pt;\n    }\n    \n    .items-table thead tr {\n        background: #1a1a1a;\n    }\n    \n    .items-table th {\n        padding: 9px 8px;\n        text-align: left;\n        font-weight: 600;\n        font-size: 7.5pt;\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n        color: #ffffff !important;\n    }\n    \n    .items-table td {\n        padding: 9px 8px;\n        border-bottom: 1px solid #e5e7eb;\n        color: #1f2937;\n    }\n    \n    .items-table tbody tr:last-child td {\n        border-bottom: 2px solid #000;\n    }\n    \n    .item-description {\n        font-weight: 600;\n        color: #000;\n        margin-bottom: 2px;\n    }\n    \n    .item-details {\n        font-size: 7.5pt;\n        color: #6b7280;\n        margin-top: 1px;\n    }\n    \n    .text-right {\n        text-align: right;\n    }\n    \n    .text-center {\n        text-align: center;\n    }\n    \n    .totals-section {\n        float: right;\n        width: 340px;\n        margin-top: 8px;\n    }\n    \n    .totals-row {\n        display: flex;\n        justify-content: space-between;\n        padding: 7px 12px;\n        border-bottom: 1px solid #e5e7eb;\n        font-size: 9pt;\n    }\n    \n    .totals-label {\n        color: #4b5563;\n        font-weight: 500;\n    }\n    \n    .totals-value {\n        font-weight: 600;\n        color: #000;\n    }\n    \n    .grand-total {\n        background: #000;\n        color: #fff;\n        padding: 10px;\n        margin-top: 4px;\n    }\n    \n    .grand-total .totals-label,\n    .grand-total .totals-value {\n        color: #fff;\n        font-size: 11pt;\n        font-weight: 700;\n    }\n    \n    .footer-section {\n        clear: both;\n        margin-top: 18px;\n        padding-top: 12px;\n        border-top: 2px solid #e5e7eb;\n    }\n    \n    .footer-grid {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 15px;\n        margin-bottom: 12px;\n    }\n    \n    .footer-block {\n        font-size: 8pt;\n    }\n    \n    .footer-title {\n        font-size: 7pt;\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n        color: #6b7280;\n        font-weight: 600;\n        margin-bottom: 5px;\n    }\n    \n    .footer-content {\n        font-size: 8pt;\n        color: #4b5563;\n        line-height: 1.3;\n    }\n    \n    .bank-grid {\n        display: grid;\n        grid-template-columns: 90px 1fr;\n        gap: 5px;\n        font-size: 8pt;\n    }\n    \n    .bank-label {\n        color: #6b7280;\n        font-weight: 500;\n    }\n    \n    .bank-value {\n        color: #000;\n        font-weight: 600;\n    }\n    \n    .compliance-footer {\n        margin-top: 12px;\n        padding: 10px;\n        background: #f8f9fa;\n        text-align: center;\n        font-size: 7pt;\n        color: #6b7280;\n        line-height: 1.4;\n        border-top: 1px solid #e5e7eb;\n    }\n    \n    @media print {\n        .modern-doc {\n            padding: 10px 15px;\n        }\n        @page {\n            margin: 8mm;\n        }\n    }\n</style>\n\n<div class=\"modern-doc\">\n    <!-- Header -->\n    <div class=\"doc-header\">\n        <div class=\"company-info\">\n            {% if company_doc.company_logo %}\n            <img src=\"{{ company_doc.company_logo }}\" class=\"company-logo\" alt=\"{{ company_doc.name }}\">\n            {% endif %}\n            <div class=\"company-name\">{{ company_doc.name }}</div>\n            <div class=\"company-details\">\n                {{ company_doc.address_line1 or \"\" }}{% if company_doc.address_line2 %}, {{ company_doc.address_line2 }}{% endif %}<br>\n                {{ company_doc.city or \"\" }}{% if company_doc.state %}, {{ company_doc.state }}{% endif %} {{ company_doc.pincode or \"\" }}<br>\n                {% if company_doc.phone %}Tel: {{ company_doc.phone }}{% endif %}\n                {% if company_doc.email %} | {{ company_doc.email }}{% endif %}\n            </div>\n        </div>\n        <div class=\"vat-box\">\n            <div class=\"vat-label\">VAT Registration No.</div>\n            <div class=\"vat-number\">{{ company_doc.tax_id or \"N/A\" }}</div>\n            {% if company_doc.company_registration %}\n            <div style=\"margin-top: 6px;\">\n                <div class=\"vat-label\">Company Reg.</div>\n                <div style=\"font-size: 9pt; font-weight: 600; color: #1f2937;\">{{ company_doc.company_registration }}</div>\n            </div>\n            {% endif %}\n        </div>\n    </div>\n    \n    <!-- Title -->\n    <div class=\"doc-title\">\n        <h1>DELIVERY NOTE</h1>\n    </div>\n    \n    <!-- Meta Information -->\n    <div class=\"doc-meta\">\n        <div class=\"meta-section\">\n            <div class=\"meta-label\">Deliver To</div>\n            <div class=\"meta-content\">\n                <strong>{{ doc.customer_name }}</strong>\n                {% if doc.address_display %}\n                <div style=\"margin-top: 3px; font-size: 8pt;\">{{ doc.address_display | replace(\"\\n\", \", \") }}</div>\n                {% endif %}\n                {% if entity_doc and entity_doc.tax_id %}\n                <div style=\"margin-top: 5px; padding-top: 5px; border-top: 1px solid #e5e7eb; font-size: 8pt;\">\n                    <span style=\"color: #6b7280;\">VAT:</span> <strong>{{ entity_doc.tax_id }}</strong>\n                </div>\n                {% endif %}\n            </div>\n        </div>\n        <div class=\"meta-section\">\n            <div class=\"meta-label\">Delivery Note Details</div>\n            <div class=\"meta-content\">\n                <div class=\"info-row\">\n                    <span class=\"info-label\">Delivery No.</span>\n                    <span class=\"info-value\">{{ doc.name }}</span>\n                </div>\n                <div class=\"info-row\">\n                    <span class=\"info-label\">Delivery Date</span>\n                    <span class=\"info-value\">{{ doc.get_formatted(\"posting_date\") }}</span>\n                </div>\n                \n                {% if doc.po_no %}\n                <div class=\"info-row\">\n                    <span class=\"info-label\">Customer PO</span>\n                    <span class=\"info-value\">{{ doc.po_no }}</span>\n                </div>\n                {% endif %}\n            </div>\n        </div>\n    </div>\n    \n    <!-- Items Table -->\n    <table class=\"items-table\">\n        <thead>\n            <tr>\n                <th style=\"width: 5%;\">#</th>\n                <th style=\"width: 44%;\">Description</th>\n                <th style=\"width: 13%;\" class=\"text-center\">Quantity</th>\n                <th style=\"width: 14%;\" class=\"text-right\">Unit Price</th>\n                <th style=\"width: 10%;\" class=\"text-center\">VAT %</th>\n                <th style=\"width: 14%;\" class=\"text-right\">Amount</th>\n            </tr>\n        </thead>\n        <tbody>\n            {% for item in doc.items %}\n            <tr>\n                <td class=\"text-center\">{{ loop.index }}</td>\n                <td>\n                    <div class=\"item-description\">{{ item.item_code }}</div>\n                    {% if item.item_name and item.item_name != item.item_code %}\n                    <div class=\"item-details\">{{ item.item_name }}</div>\n                    {% endif %}\n                    {% if item.description and item.description != item.item_name %}\n                    <div class=\"item-details\">{{ item.description[:80] }}{% if item.description|length > 80 %}...{% endif %}</div>\n                    {% endif %}\n                </td>\n                <td class=\"text-center\">{{ item.qty }} {{ item.uom or \"\" }}</td>\n                <td class=\"text-right\">{{ item.get_formatted(\"rate\") }}</td>\n                <td class=\"text-center\">\n                    {% set item_tax_rate = 0 %}\n                    {% if doc.taxes %}\n                        {% for tax in doc.taxes %}\n                            {% if \"VAT\" in tax.description or \"Tax\" in tax.description %}\n                                {% set item_tax_rate = tax.rate %}\n                            {% endif %}\n                        {% endfor %}\n                    {% endif %}\n                    {{ \"%.1f\"|format(item_tax_rate) }}%\n                </td>\n                <td class=\"text-right\">{{ item.get_formatted(\"amount\") }}</td>\n            </tr>\n            {% endfor %}\n        </tbody>\n    </table>\n    \n    <!-- Totals -->\n    <div class=\"totals-section\">\n        <div class=\"totals-row\">\n            <span class=\"totals-label\">Subtotal (Excl. VAT)</span>\n            <span class=\"totals-value\">{{ doc.get_formatted(\"net_total\") }}</span>\n        </div>\n        {% if doc.discount_amount and doc.discount_amount > 0 %}\n        <div class=\"totals-row\">\n            <span class=\"totals-label\">Discount</span>\n            <span class=\"totals-value\">({{ doc.get_formatted(\"discount_amount\") }})</span>\n        </div>\n        {% endif %}\n        {% for tax in doc.taxes %}\n        <div class=\"totals-row\">\n            <span class=\"totals-label\">\n                {{ tax.description }}{% if tax.rate %} @ {{ \"%.1f\"|format(tax.rate) }}%{% endif %}\n            </span>\n            <span class=\"totals-value\">{{ tax.get_formatted(\"tax_amount\") }}</span>\n        </div>\n        {% endfor %}\n        <div class=\"grand-total\">\n            <div class=\"totals-row\" style=\"border: none;\">\n                <span class=\"totals-label\">TOTAL (Incl. VAT)</span>\n                <span class=\"totals-value\">{{ doc.get_formatted(\"grand_total\") }}</span>\n            </div>\n        </div>\n    </div>\n    \n    <!-- Footer -->\n    <div class=\"footer-section\">\n        <div class=\"footer-grid\">\n            {% if doc.terms %}\n            <div class=\"footer-block\">\n                <div class=\"footer-title\">Terms & Conditions</div>\n                <div class=\"footer-content\">{{ doc.terms[:150] }}{% if doc.terms|length > 150 %}...{% endif %}</div>\n            </div>\n            {% endif %}\n            \n            {% if company_doc.default_bank_account %}\n            {% set bank_account = frappe.get_doc(\"Bank Account\", company_doc.default_bank_account) %}\n            <div class=\"footer-block\">\n                <div class=\"footer-title\">Banking Details</div>\n                <div class=\"bank-grid\">\n                    <div class=\"bank-label\">Bank</div>\n                    <div class=\"bank-value\">{{ bank_account.bank or \"\" }}</div>\n                    <div class=\"bank-label\">Account Name</div>\n                    <div class=\"bank-value\">{{ bank_account.account_name or company_doc.name }}</div>\n                    <div class=\"bank-label\">Account No.</div>\n                    <div class=\"bank-value\">{{ bank_account.bank_account_no or \"\" }}</div>\n                    {% if bank_account.branch_code %}\n                    <div class=\"bank-label\">Branch Code</div>\n                    <div class=\"bank-value\">{{ bank_account.branch_code }}</div>\n                    {% endif %}\n                </div>\n            </div>\n            {% endif %}\n        </div>\n        \n        <div class=\"compliance-footer\">\n            System-generated sales order. Sequential numbering per SARS requirements. Documents retained 5 years minimum.\n        </div>\n    </div>\n</div>\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-10-30 09:28:23.843484",
 "modified_by": "Administrator",
 "module": "SA Tax",
 "name": "SA Delivery Note",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}
